<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supercar Vault | Kolekcja Marze≈Ñ</title>
    <!-- Import czcionki Inter dla lepszego wyglƒÖdu tekstu -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        /* --- ZMIENNE I PODSTAWY --- */
        :root {
            --primary: #ff3e3e;
            --bg: #050505;
            --card-bg: #121214;
            --text: #ffffff;
            --text-dim: #94a3b8;
            --transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --header-h: 70px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body { 
            background-color: var(--bg); 
            color: var(--text); 
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            overflow-x: hidden;
            padding-top: var(--header-h);
        }

        h1, h2, h3 { letter-spacing: -0.02em; }
        p { color: var(--text-dim); }

        /* --- NAWIGACJA --- */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 5%;
            height: var(--header-h);
            background: rgba(10, 10, 12, 0.95);
            backdrop-filter: blur(15px);
            position: fixed;
            top: 0; left: 0; right: 0;
            z-index: 1000;
            border-bottom: 1px solid #222;
        }

        .logo { font-size: 1.2rem; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; flex-shrink: 0; }
        .logo span { color: var(--primary); }

        .search-container {
            flex-grow: 1;
            display: flex;
            justify-content: center;
        }

        .search-box input {
            padding: 10px 20px;
            border-radius: 100px;
            border: 1px solid #333;
            background: #1a1a1c;
            color: white;
            width: 100%;
            max-width: 400px;
            outline: none;
            transition: var(--transition);
        }

        .search-box input:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(255, 62, 62, 0.2); }

        .nav-actions { display: flex; align-items: center; gap: 15px; }

        .fav-indicator {
            background: rgba(255, 62, 62, 0.1);
            padding: 6px 14px;
            border-radius: 100px;
            font-size: 0.85rem;
            font-weight: 700;
            border: 1px solid rgba(255, 62, 62, 0.3);
        }

        .menu-toggle {
            display: none;
            background: #222;
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            align-items: center;
            justify-content: center;
        }

        /* --- FILTRY KATEGORII --- */
        .categories-wrapper {
            padding: 20px 5%;
            display: flex;
            justify-content: center;
            position: relative;
            z-index: 500;
        }

        /* Desktopowe przyciski */
        .categories-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .cat-btn {
            background: transparent;
            border: 1px solid #333;
            color: var(--text-dim);
            padding: 8px 20px;
            border-radius: 100px;
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
        }

        .cat-btn:hover, .cat-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* --- CUSTOM MOBILE DROPDOWN --- */
        .custom-dropdown {
            display: none;
            width: 100%;
            max-width: 320px;
            position: relative;
            user-select: none;
        }

        .dropdown-selected {
            background: #1a1a1c;
            color: white;
            padding: 12px 20px;
            border: 2px solid #333;
            border-radius: 16px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            font-size: 0.95rem;
            transition: var(--transition);
        }

        .dropdown-selected:after {
            content: '';
            width: 0; height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-top: 5px solid var(--primary);
            transition: transform 0.3s ease;
        }

        .custom-dropdown.open .dropdown-selected {
            border-color: var(--primary);
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
        }

        .custom-dropdown.open .dropdown-selected:after {
            transform: rotate(180deg);
        }

        .dropdown-options {
            display: none;
            position: absolute;
            top: 100%;
            left: 0; right: 0;
            background: #1a1a1c;
            border: 2px solid var(--primary);
            border-top: none;
            border-bottom-left-radius: 16px;
            border-bottom-right-radius: 16px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0,0,0,0.5);
        }

        .custom-dropdown.open .dropdown-options {
            display: block;
        }

        .dropdown-option {
            padding: 12px 20px;
            color: var(--text-dim);
            cursor: pointer;
            transition: 0.2s;
            font-size: 0.95rem;
            border-top: 1px solid #222;
        }

        .dropdown-option:hover {
            background: #252528;
            color: white;
        }

        .dropdown-option.active {
            color: var(--primary);
            background: rgba(255, 62, 62, 0.05);
            font-weight: 700;
        }

        /* --- SIATKA I KARTY --- */
        main { padding: 1rem 5% 4rem; }
        .section-header { margin-bottom: 2rem; text-align: center; }
        .section-header h2 { font-size: 2rem; margin-bottom: 0.5rem; }

        .car-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .car-card {
            background: var(--card-bg);
            border-radius: 20px;
            overflow: hidden;
            transition: var(--transition);
            border: 1px solid #222;
            display: flex; flex-direction: column; position: relative;
        }

        .car-card:hover { border-color: #444; transform: translateY(-5px); }

        .image-wrapper { width: 100%; display: flex; align-items: center; justify-content: center; }
        .car-card img { width: 100%; height: auto; display: block; transition: 0.5s; cursor: pointer; }

        .car-info { padding: 1.25rem; flex-grow: 1; display: flex; flex-direction: column; }
        .car-cat-label { font-size: 0.65rem; color: var(--primary); font-weight: 800; text-transform: uppercase; margin-bottom: 4px; letter-spacing: 1px; }
        .car-info h3 { font-size: 1.25rem; margin-bottom: 6px; font-weight: 700; }
        .price-tag { font-size: 1rem; font-weight: 700; margin-top: auto; color: #fff; padding-top: 8px; }

        .fav-icon-btn {
            position: absolute;
            top: 12px; right: 12px;
            background: rgba(0,0,0,0.4);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255,255,255,0.1);
            color: white;
            width: 38px; height: 38px;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; z-index: 10;
        }
        .fav-icon-btn.active { color: var(--primary); background: rgba(255,62,62,0.15); border-color: var(--primary); }

        .details-btn {
            margin-top: 12px;
            background: #222; color: white;
            border: 1px solid #333;
            padding: 10px; border-radius: 12px;
            font-weight: 600; cursor: pointer;
        }

        /* --- MODAL --- */
        .modal {
            display: none;
            position: fixed; inset: 0;
            background: rgba(0,0,0,0.9);
            z-index: 2000;
            justify-content: center; align-items: center;
            padding: 15px; backdrop-filter: blur(12px);
        }

        .modal-content {
            background: #0f0f11;
            max-width: 900px; width: 100%;
            max-height: 90vh; border-radius: 24px;
            position: relative;
            display: flex; flex-direction: row;
            overflow-y: auto; border: 1px solid #222;
        }

        .modal-image-container { flex: 1.2; display: flex; align-items: center; justify-content: center; padding: 10px; }
        .modal-image-container img { max-width: 100%; max-height: 70vh; border-radius: 12px; object-fit: contain; }
        .modal-info-container { flex: 1; padding: 30px; display: flex; flex-direction: column; justify-content: center; }

        .modal-close {
            position: absolute; top: 15px; right: 15px;
            background: rgba(0,0,0,0.5); color: white; border: none;
            width: 35px; height: 35px; border-radius: 50%;
            cursor: pointer; z-index: 30; font-size: 1.2rem;
            display: flex; align-items: center; justify-content: center;
        }

        /* --- MEDIA QUERIES --- */
        @media (max-width: 850px) {
            .modal-content { flex-direction: column; }
            .search-container { display: none; }
            .menu-toggle { display: flex; }
        }

        @media (max-width: 768px) {
            .categories-buttons { display: none; }
            .custom-dropdown { display: block; }
        }

        @media (max-width: 480px) {
            .logo { font-size: 1rem; }
            .fav-indicator { font-size: 0.75rem; padding: 4px 10px; }
        }
    </style>
</head>
<body>

    <header>
        <div class="logo">Super<span>Vault</span></div>
        <div class="search-container">
            <div class="search-box" style="width: 100%; display: flex; justify-content: center;">
                <input type="text" id="desktop-search" class="search-input" placeholder="Szukaj modelu..." oninput="syncSearch(this)">
            </div>
        </div>
        <div class="nav-actions">
            <div class="fav-indicator">‚ù§Ô∏è <span id="fav-count">0</span></div>
            <button class="menu-toggle" onclick="toggleMobileSearch()">üîç</button>
        </div>
    </header>

    <div id="mobile-search-bar" style="display:none; padding: 10px 5%; background: #121214;">
        <input type="text" class="search-input" style="width:100%; padding:10px; border-radius:10px; background:#1a1a1c; color:white; border:1px solid #333;" placeholder="Wpisz nazwƒô..." oninput="syncSearch(this)">
    </div>

    <div class="categories-wrapper">
        <!-- Widok Desktop -->
        <div class="categories-buttons">
            <button class="cat-btn active" data-category="Wszystkie">Wszystkie</button>
            <button class="cat-btn" data-category="Spalinowe">Spalinowe</button>
            <button class="cat-btn" data-category="Hybrydy">Hybrydy</button>
            <button class="cat-btn" data-category="Torowe">Torowe</button>
        </div>
        
        <!-- Widok Mobilny (Custom Dropdown) -->
        <div class="custom-dropdown" id="mobile-dropdown">
            <div class="dropdown-selected" onclick="toggleDropdown()">Kategoria: Wszystkie</div>
            <div class="dropdown-options">
                <div class="dropdown-option active" onclick="selectDropdown('Wszystkie', 'Kategoria: Wszystkie')">Wszystkie</div>
                <div class="dropdown-option" onclick="selectDropdown('Spalinowe', 'Silnik: Spalinowe')">Spalinowe</div>
                <div class="dropdown-option" onclick="selectDropdown('Hybrydy', 'Silnik: Hybrydy')">Hybrydy</div>
                <div class="dropdown-option" onclick="selectDropdown('Torowe', 'Przeznaczenie: Torowe')">Torowe</div>
            </div>
        </div>
    </div>

    <main>
        <div class="section-header">
            <h2>Twoja Gara≈ºowa Galeria</h2>
            <p>Eksploruj najszybsze maszyny ≈õwiata.</p>
        </div>
        <section id="car-container" class="car-grid"></section>
    </main>

    <div id="modal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <div id="modal-body-img" class="modal-image-container"></div>
            <div id="modal-body-info" class="modal-info-container"></div>
        </div>
    </div>

    <script>
        const carData = [
            { id: 1, category: "Hybrydy", brand: "Lamborghini", model: "Revuelto", hp: 1015, price: "2.5M PLN", img: "https://images.unsplash.com/photo-1621135802920-133df287f89c?w=800", desc: "Najnowsza hybryda V12, kt√≥ra definiuje przysz≈Ço≈õƒá marki Lamborghini." },
            { id: 2, category: "Hybrydy", brand: "Ferrari", model: "SF90", hp: 1000, price: "2.2M PLN", img: "https://images.unsplash.com/photo-1592198084033-aade902d1aae?w=800", desc: "W≈Çoskie dzie≈Ço sztuki z napƒôdem hybrydowym plug-in." },
            { id: 3, category: "Spalinowe", brand: "Bugatti", model: "Chiron", hp: 1500, price: "12M PLN", img: "https://images.unsplash.com/photo-1689826493949-5e5824a5474e?w=800", desc: "Kr√≥l prƒôdko≈õci i luksusu. Silnik W16 to szczyt in≈ºynierii." },
            { id: 4, category: "Torowe", brand: "Porsche", model: "GT3 RS", hp: 525, price: "1.2M PLN", img: "https://images.unsplash.com/photo-1614162692292-7ac56d7f7f1e?w=800", desc: "Precyzja torowa przeniesiona na drogi." },
            { id: 5, category: "Spalinowe", brand: "McLaren", model: "600LT", hp: 600, price: "1M PLN", img: "https://images.unsplash.com/photo-1615394695852-da39a8df9bf1?w=800", desc: "Lekko≈õƒá i aerodynamika zredukowana do perfekcji." },
            { id: 6, category: "Torowe", brand: "Koenigsegg", model: "Jesko", hp: 1600, price: "15M PLN", img: "https://i.cdn.newsbytesapp.com/images/l200_34621626681104.jpg", desc: "Absolutny szczyt in≈ºynierii szwedzkiego wizjonera." }
        ];

        let favorites = JSON.parse(localStorage.getItem('myFavs')) || [];
        let currentCategory = "Wszystkie";
        let searchTerm = "";

        // --- OBS≈ÅUGA DROPDOWN ---
        function toggleDropdown() {
            document.getElementById('mobile-dropdown').classList.toggle('open');
        }

        function selectDropdown(cat, label) {
            document.querySelector('.dropdown-selected').innerText = label;
            document.getElementById('mobile-dropdown').classList.remove('open');
            
            document.querySelectorAll('.dropdown-option').forEach(opt => {
                opt.classList.toggle('active', opt.innerText === cat || (cat === "Wszystkie" && opt.innerText === "Wszystkie"));
            });

            changeCategory(cat);
        }

        window.addEventListener('click', (e) => {
            if (!document.getElementById('mobile-dropdown').contains(e.target)) {
                document.getElementById('mobile-dropdown').classList.remove('open');
            }
        });

        function changeCategory(cat) {
            currentCategory = cat;
            document.querySelectorAll('.cat-btn').forEach(btn => {
                btn.classList.toggle('active', btn.getAttribute('data-category') === cat);
            });
            render();
        }

        function syncSearch(input) {
            searchTerm = input.value.toLowerCase();
            document.querySelectorAll('.search-input').forEach(i => i.value = input.value);
            render();
        }

        function toggleMobileSearch() {
            const bar = document.getElementById('mobile-search-bar');
            bar.style.display = bar.style.display === 'none' ? 'block' : 'none';
        }

        function render() {
            const container = document.getElementById('car-container');
            const filtered = carData.filter(car => {
                const matchesCat = currentCategory === "Wszystkie" || car.category === currentCategory;
                const matchesSearch = car.brand.toLowerCase().includes(searchTerm) || car.model.toLowerCase().includes(searchTerm);
                return matchesCat && matchesSearch;
            });

            container.innerHTML = '';
            filtered.forEach(car => {
                const isFav = favorites.includes(car.id);
                const article = document.createElement('article');
                article.className = 'car-card';
                article.innerHTML = `
                    <button class="fav-icon-btn ${isFav ? 'active' : ''}" onclick="toggleFav(${car.id})">${isFav ? '‚ù§Ô∏è' : 'ü§ç'}</button>
                    <div class="image-wrapper"><img src="${car.img}" onclick="showDetails(${car.id})"></div>
                    <div class="car-info">
                        <span class="car-cat-label">${car.category}</span>
                        <h3>${car.brand} ${car.model}</h3>
                        <p class="price-tag">${car.price}</p>
                        <button class="details-btn" onclick="showDetails(${car.id})">Szczeg√≥≈Çy</button>
                    </div>
                `;
                container.appendChild(article);
            });
            document.getElementById('fav-count').innerText = favorites.length;
        }

        document.querySelectorAll('.cat-btn').forEach(btn => {
            btn.addEventListener('click', () => changeCategory(btn.getAttribute('data-category')));
        });

        function toggleFav(id) {
            if(favorites.includes(id)) favorites = favorites.filter(f => f !== id);
            else favorites.push(id);
            localStorage.setItem('myFavs', JSON.stringify(favorites));
            render();
        }

        function showDetails(id) {
            const car = carData.find(c => c.id === id);
            document.getElementById('modal-body-img').innerHTML = `<img src="${car.img}">`;
            document.getElementById('modal-body-info').innerHTML = `
                <span class="car-cat-label">${car.category}</span>
                <h2>${car.brand} ${car.model}</h2>
                <p style="margin:10px 0; color:var(--primary); font-weight:bold;">${car.hp} KM | ${car.price}</p>
                <p>${car.desc}</p>
            `;
            document.getElementById('modal').style.display = 'flex';
        }

        function closeModal() { document.getElementById('modal').style.display = 'none'; }
        render();
    </script>
</body>
</html>